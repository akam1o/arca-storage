name: CI

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

permissions:
  contents: read

jobs:
  status-check:
    runs-on: ubuntu-latest
    if: always()
    needs: []
    steps:
      - name: CI Status Check
        run: |
          echo "CI Status Check - All workflows completed"
          echo "This workflow ensures all CI checks have run"

  # This job will be used for branch protection rules
  ci-success:
    runs-on: ubuntu-latest
    needs: [status-check]
    if: always()
    steps:
      - name: Check CI Status
        run: |
          if [ "${{ needs.status-check.result }}" = "success" ]; then
            echo "All CI checks passed"
            exit 0
          else
            echo "Some CI checks failed"
            exit 1
          fi
